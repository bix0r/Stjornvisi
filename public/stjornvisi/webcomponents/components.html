<!--
	X-EDIT-FORM

	This is to create/update one project


-->

<template id="tpl-stjornvisi-controls">
	<style>
		:host-context(.inline){
			top: 0;
			right: 0;
		}
		:host{

		}
		:host-context(stjonvisi-control.active) ::content a:nth-child(1),
		:host-context(stjonvisi-control.active) ::content a:nth-child(2),
		:host-context(stjonvisi-control.active) ::content a:nth-child(3),
		:host-context(stjonvisi-control.active) ::content a:nth-child(4),
		:host-context(stjonvisi-control.active) ::content a:nth-child(5),
		:host-context(stjonvisi-control.active) ::content a:nth-child(6),
		:host-context(stjonvisi-control.active) ::content a:nth-child(7){
			transform: translate3d(0, 0%, 0);
			-webkit-transition:-webkit-transform 0.6s cubic-bezier(0.4, 1, 0.3, 1);
		}

		:host-context(stjonvisi-control) ::content a:nth-child(1){
			transform: translate3d(0, -100%, 0);
		}
		:host-context(stjonvisi-control) ::content a:nth-child(2){
			transform: translate3d(0, -200%, 0);
		}
		:host-context(stjonvisi-control) ::content a:nth-child(3){
			transform: translate3d(0, -300%, 0);
		}
		:host-context(stjonvisi-control) ::content a:nth-child(4){
			transform: translate3d(0, -400%, 0);
		}
		:host-context(stjonvisi-control) ::content a:nth-child(5){
			transform: translate3d(0, -500%, 0);
		}
		:host-context(stjonvisi-control) ::content a:nth-child(6){
			transform: translate3d(0, -600%, 0);
		}
		:host-context(stjonvisi-control) ::content a:nth-child(7){
			transform: translate3d(0, -700%, 0);
		}

		a {
			display: block;
			width: 50px;
			height: 50px;
			background-color: red;
			border-radius: 50%;
		}

		::content a {
			display: block;
		}

	</style>
	<a href="#" class="edit">Edit</a>
	<content></content>
</template>

<script>
	(function() {
		var importDoc = document.currentScript.ownerDocument; // importee


		// Define and register <shadow-element>
		// that uses Shadow DOM and a template.
		var stjornvisiControlPrototype = Object.create(HTMLElement.prototype);

		stjornvisiControlPrototype.root = undefined;
		stjornvisiControlPrototype.trigger = undefined;
		stjornvisiControlPrototype.open = false;

		/**
		 * When the element is created.
		 *
		 * Clone and attache the markup
		 * Add event listeners to this markup.
		 */
		stjornvisiControlPrototype.createdCallback = function() {
			// get template in import
			var template = importDoc.querySelector('#tpl-stjornvisi-controls');


			//BUILD MARKUP
			//	import template, create shadowDOM and
			//	append that to the main document
			var clone = document.importNode(template.content, true);
			this.root = this.createShadowRoot();
			this.root.appendChild(clone);


			this.addEventListener('mouseover',function(event){
				event.preventDefault();
				this.classList.add('active');
			}.bind(this),false);

			this.addEventListener('mouseout',function(event){
				event.preventDefault();
				this.classList.remove('active');
			}.bind(this),false);


		};

		/**
		 * When the attributes is changed,
		 *
		 * @param {string} attrName
		 * @param {string} oldVal
		 * @param {string} newVal
		 */
		stjornvisiControlPrototype.attributeChangedCallback = function(attrName, oldVal, newVal){};

		/**
		 * When the element is attached to
		 * the DOM tree
		 */
		stjornvisiControlPrototype.attachedCallback = function(){};

		/**
		 * When the element is removed from the DOM.
		 *
		 * Do some cleanup.
		 * Like remove event handlers added to elements
		 */
		stjornvisiControlPrototype.detachedCallback = function(){};


		document.registerElement('stjonvisi-control', {prototype: stjornvisiControlPrototype});
	})();
</script>